---
---

$treewidth: 4rem;

/* Styling for project trees */
div#forest {
	position: relative; // Contain the trees
	background: rgba(17, 230, 110, 0.26);
	margin: 60px 0 16px 50%;

	max-width: 95vw;
	width: 130%;
	transform: translateX(-50%);

	#legend {
		width: calc(100% - 2*16px);
		position: absolute;
		bottom: 0;

		.status-color {
			width: 2rem;
			display: block;
			margin: auto;
		}

		.label {
			text-align: center;
		}
	}

	.group {
		--x: 0; --y: 0%; // defaults
		position: absolute;
		bottom: calc(100% - var(--y));
		width: $treewidth;
		margin-bottom: -8px; // remove gap between stem and ground

		left: calc(var(--space) * var(--x) / 100 - (#{$treewidth} / 2));
		&.reverse {
			left: calc(100% + var(--space) * var(--x) / 100 - (#{$treewidth} / 2));
		}

		.tree {
			width: 100%;
			z-index: 10;
			--space: 100%;

			a:focus {
				stroke-width: 5px;
				stroke: white;
			}
		}

		&:not(:hover) .tree-label { display: none; }
		.tree-label {
			position: absolute;
			bottom: 100%;
			text-align: center;
			background: #f8f8f8;
			padding: 8px;

			min-width: 100%;
			left: 50%;
			transform: translateX(-50%);

			z-index: 30; // above trees & description
		}
	}

	.description {
		position: absolute;
		left: 0;
		right: 0;
		margin: auto;

		padding: 1em;
		background: white;
		overflow-y: auto;

		z-index: 20;
	}

	// Position trees and description
	@media (max-width: 600px) {
		.group {
			--space: 100%;
		}

		height: 250px;
		margin-bottom: 15rem;

		.description {
			top: 100%;
			height: 15rem;
		}
	}
	@media (min-width: 600px) {
		.group {
			--space: 60%;
		}

		height: 350px;

		.description {
			height: 350px - 2*10px;
			margin-top: 10px;
			width: 40%;
		}
	}

	// Make click work
	.project .description { display: none; }
	.project:focus-within .description { display: initial; }
}
